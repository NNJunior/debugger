# debugger
Программа чтобы тестировать код для контестов и понимать, что с ним не так. 
Для того, чтобы использовать данный функционал, выполните следующие дейсствия:
1. Скачайте репозиторий
2. Откройте файл ```~/.zshrc``` or ```~/.bashhrc``` (это зависит от того, какую Shell вы используете: ```zsh``` или ```bash```)
3. Добавьте в файл следующую строку: 
```
alias debugger="/absolute/path/to/folder/src/main.sh"
```
Где ```/absolute/path/to/folder``` - это абсолютный путь к скачанной папке. Перезайдите в терминал. Теперь вы можете использовать команду ```debugger```!

## Общие определения
1. Проверятор - программа, проверяющая ответ.
2. Генератор - программа, генерирующая тесты.

## Окружение
Окружение ```debugger``` - это правильно организованные директории. У любое окружение имеет следующую структуру:
```
Folder/
├── run/
|   ├── scripts/
|   |   ├── compile.sh             - это скрипт, который компилирует ваш код
|   |   └── run.sh                 - это скрипт, который запускает вашу программу
|   └── environment/
|       ├── input.txt              - это файл со входными данными
|       ├── output.txt             - это файл с выходными данными
|       └── errors.txt             - тут хранятся ошибки выполнения
└── testing/
    ├── scripts/
    |   ├── check.sh               - это скрипт, который запускает проверятор
    |   └── generate.sh            - это скрипт, который запускает генератор
    └── tests/
        ├── test0.txt              - тест0
        └── test1.txt              - тест1
        └── ...
```

## Требования
1. Проверятор должен читать данные из `input.txt` и `output.txt`. Если ответ в `output.txt` - правильный, то просто заввершает свое выполнение, иначе - выдает ошибку (завершается с ненулевым кодом (`sys.exit(1)` в Python или `return 1` в C++)). Причем сообщение об ошибке проверятора записывается в `errors`.
2. Генератор не принимает ничего на вход, но выводит тест в консоль (или, говоря нормальным языком, в `stdout`)
3. Программа читает данные из консоли (`stdin`) или `input.txt` и выводит их в консоль (`stdout`) или `output.txt`

## Функционал
### `debugger new`
Создает новое окружение. После того, как вы создали окружение, вам предложат настроить файлы ```compile.sh```, ```run.sh```, ```check.sh```, ```generate.sh```. Вы можете вводить любые команды и они будут выполняться при компиляции, запуске программы, проверке ответов или генерации ответов, соответственно. После этого, создастся папка с указанным вами именем (можно указать любой относительный или абсолютный путь). Для работы с папкой, в нее нужно будет перед этим перейти, используюя команду `cd`!!!

### `debugger gen n`
Генерирует `n` тестов, используя файл `generate.sh`. Старые тесты перезаписываются (индексация идет с 0). Чтобы создать свой тест, добавьте текстовый файл в папку `testing/tests`. 

### `debugger run limit [] [-all] [-i] [-o] [-e]`
1. `debugger run 3s test0.txt test2.txt` - запускает тесты `test0.txt`, `test2.txt` с ограничением по времени 3 секунды.
2. `debugger run 1s -all` - запускает все тесты, находящиеся в папке `testing/tests` с ограничением по времени 1 секудну.
Флаги `-i`, `-o`, `-e` позволяют добавлять в вывод информацию о вводе, выводе и ошибках программы. Пример:

```
debugger run -all -e
```
запускает все тесты и выводит ошибки, которые программа вывела на них

### `debugger config []`
Специальная функция, чтобы было легче взаимодействовать с окружением.
- `debugger config compile` - изменяет файл `compile.sh`
- `debugger config run` - изменяет файл `run.sh`
- `debugger config check` - изменяет файл `check.sh`
- `debugger config generate` - изменяет файл `generate.sh`
- `debugger config addtest name.txt` - создает тест `name.txt`